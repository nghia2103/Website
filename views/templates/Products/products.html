<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Products - Browse All</title>
    <link rel="stylesheet" href="{{ url_for('serve_assets', filename='Products/products.css') }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('serve_assets', filename='css/inbox_user.css') }}">
</head>
<body>
    <!-- navbar -->
    <nav class="navbar">
        <div class="navbar-left">DONKIES</div>
        <div class="navbar-center">
            <a href="/" class="nav-home">HOME</a>
            <a href="/#about-section" class="nav-about">ABOUT</a>
            <a href="/products" class="nav-products">PRODUCTS</a>
            <a href="/#gallery-wrapper" class="nav-media">MEDIA</a>
            {% if session.customer_id %}
                <a href="/acc/myACC/my_account.html" class="nav-account active">myACCOUNT</a>
            {% else %}
                <a href="/login" class="nav-account">myACCOUNT</a>
            {% endif %}
        </div>
        <div class="navbar-right">
            {% if session.customer_id %}
                <a href="/logout" class="nav-logout highlight">LOGOUT</a>
            {% else %}
                <a href="/login" class="nav-login highlight">LOGIN</a>
            {% endif %}
        </div>
    </nav>

    <div class="app-container">
        <div class="sidebar">
            <h2>Browse by</h2>
            <hr />
            <a href="#" data-category="all" class="active">All Products</a>
            <a href="#" data-category="coffees">Coffees</a>
            <a href="#" data-category="drinks">Drinks</a>
            <a href="#" data-category="foods">Foods</a>
            <a href="#" data-category="yogurts">Yogurts</a>
            <a href="#" data-category="top10">Top 10 Best Sellers</a>
            <h2>Filter by</h2>
            <hr />
            <div class="price-filter-section filter-section">
                <div class="header-row">
                    <label for="price-range">Price</label>
                    <button class="toggle-price-filter">+</button>
                </div>
                <div class="filter-content">
                    <input type="range" id="price-range" min="0" max="100000" value="100000" aria-label="Price filter range" />
                    <div class="price-values">
                        <span>₫0</span>
                        <span>₫100,000</span>
                    </div>
                </div>
            </div>
            <hr />
            <div class="size-filter-section filter-section">
                <div class="header-row">
                </div>
                <div class="filter-content">
                    <div class="size-filters">
                        <label><input type="checkbox" value="S" /> Small</label>
                        <label><input type="checkbox" value="M" /> Medium</label>
                        <label><input type="checkbox" value="L" /> Large</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="hero-section">
                <img src="{{ url_for('serve_assets', filename='Products/anhproducts/bannerproducts.avif') }}" alt="Hero Banner">
            </div>
            <div class="content">
                <p>All Products</p>
                <p>This is your category description. It’s a great place to tell customers what this category is about, connect with your audience and draw attention to your products.</p>
            </div>
            <div class="product-grid-container">
                <div class="sort-control">
                    <label for="sortSelect">Sort by: </label>
                    <select id="sortSelect">
                        <option value="recommended">Recommended</option>
                        <option value="newest">Newest</option>
                        <option value="price-low">Price (low to high)</option>
                        <option value="price-high">Price (high to low)</option>
                        <option value="name-asc">Name A-Z</option>
                        <option value="name-desc">Name Z-A</option>
                    </select>
                </div>
                <div class="product-grid">
                    <!-- Product cards will be dynamically generated by JavaScript -->
                </div>
                <div class="pagination-controls" style="display: flex; justify-content: center; margin-top: 20px;">
                    <button id="prevPage" disabled>Previous</button>
                    <span id="pageInfo" style="margin: 0 15px; line-height: 38px;">Page 1 of 1</span>
                    <button id="nextPage">Next</button>
                </div>                
            </div>
        </div>

        <div class="modal" id="productModal">
            <div class="modal-content">
                <span class="modal-close">×</span>
                <div class="product-page">
                    <div class="product-gallery">
                        <div class="thumbnail-list" id="thumbnailList"></div>
                        <div class="main-image">
                            <img id="mainImage" src="https://via.placeholder.com/600" alt="Main Product Image" />
                        </div>
                    </div>
                    <div class="product-info">
                        <h1 id="productTitle">Product Name</h1>
                        <div class="sku" id="productSKU">SKU: N/A</div>
                        <div class="price-container">
                            <div class="current-price" id="currentPrice">₫0</div>
                            <div class="original-price" id="originalPrice">₫0</div>
                            <div class="discount" id="discount">0% OFF</div>
                        </div>
                        <div class="product-description">
                            <p id="productDescription">Product description goes here.</p>
                        </div>
                        <div class="quantity-control">
                            <div class="size-selection">
                                <span>Size</span>
                                <select id="sizeSelect" required>
                                    <option value="" disabled selected hidden>Select</option>
                                </select>
                            </div>
                            <div class="quantity-selection">
                                <label for="quantityInput">Quantity</label>
                                <div class="quantity-input">
                                    <button class="quantity-minus">-</button>
                                    <input type="number" id="quantityInput" value="1" min="1" max="10" />
                                    <button class="quantity-plus">+</button>
                                </div>
                            </div>
                        </div>
                        <button class="add-to-cart">Add to Cart</button>
                        <button class="buy-now">Buy Now</button>
                        <div class="delivery-info">
                            <div class="delivery-option">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M5 7h13.79a2 2 0 0 1 1.99 2.199l-.6 6A2 2 0 0 1 18.19 17H8"/>
                                    <path d="M5 17H3"/>
                                    <path d="M14 17h-4"/>
                                    <circle cx="7" cy="20" r="2"/>
                                    <circle cx="17" cy="20" r="2"/>
                                </svg>
                                <div>
                                    <strong>Free Delivery</strong>
                                    <p>On orders over ₫100000</p>
                                </div>
                            </div>
                            <div class="delivery-option">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M12 6v6l4 2"/>
                                </svg>
                                <div>
                                    <strong>Fast Shipping</strong>
                                    <p>15 - 20 minutes</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="review-toggle">
                    <button class="show-reviews-btn">Show Reviews</button>
                </div>
                <div class="reviews-list" style="display: none; margin-top: 20px;">
                    <div class="no-reviews" style="display: block;">
                        <p class="no-reviews-message" style="display: flex; justify-content: center;">No reviews available for this product.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="cartOverlay" class="cart-overlay"></div>
        <div id="cartPopup">
            <div class="cart-content">
                <span class="cart-close">×</span>
                <h2>Your Cart</h2>
                <div id="cartItems"></div>
                <div id="cartEmpty" class="cart-empty">Your cart is empty</div>
                <div id="totalPrice" class="total-price">Total: ₫0</div>
                <button id="checkoutBtn" class="checkout-btn">Checkout</button>
            </div>
        </div>

        <button id="cartBtn" style="position: fixed; bottom: 20px; left: 20px; z-index: 9999; background:#7f8800; color:#fff; border:none; padding:10px 15px; cursor:pointer; display: flex; align-items: center; gap: 5px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="9" cy="21" r="1"/>
                <circle cx="20" cy="21" r="1"/>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
            </svg>
            <span>Cart (0)</span>
        </button>
    </div>
  {% if session.customer_id %}
<!-- chatbox -->
<div class="chat-container">
    <div class="card" id="chatBox">
      <div class="chat-header">Chat</div>
      <div class="chat-window">
        <ul class="message-list" id="messageList"></ul>
      </div>
      <div class="chat-input">
        <input type="text" class="message-input" id="messageInput" placeholder="Type your message here">
        <button class="send-button" id="sendButton">Send</button>
      </div>
    </div>

    <div class="chat-icon" id="chatIcon">
      <div class="background"></div>
      <svg viewBox="0 0 100 100" height="80" width="80" class="chat-bubble">
        <g class="bubble">
          <path d="M 30.7873,85.113394 30.7873,46.556405 C 30.7873,41.101961 36.826342,35.342 40.898074,35.342 H 59.113981 C 63.73287,35.342 69.29995,40.103201 69.29995,46.784744" class="line line1"></path>
          <path d="M 13.461999,65.039335 H 58.028684 C 63.483128,65.039335 69.243089,59.000293 69.243089,54.928561 V 45.605853 C 69.243089,40.986964 65.02087,35.419884 58.339327,35.419884" class="line line2"></path>
        </g>
        <circle cx="42.5" cy="50.7" r="1.9" class="circle circle1"></circle>
        <circle r="1.9" cy="50.7" cx="49.9" class="circle circle2"></circle>
        <circle cx="57.3" cy="50.7" r="1.9" class="circle circle3"></circle>
      </svg>
    </div>
</div>
{% endif %}
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-main">
            <div class="footer-left">
                <h1>DONKIES <img src="{{ url_for('serve_assets', filename='logo2.png') }}" alt="star icon" class="star-icon"></h1>
            </div>
            <div class="footer-center">
                <ul>
                    <li><a href="{{ url_for('index') }}">HOME</a></li>
                    <li><a href="{{ url_for('index') }}#about-section">ABOUT</a></li>
                    <li><a href="{{ url_for('products_user') }}">PRODUCTS</a></li>
                    <li><a href="{{ url_for('index') }}#gallery-wrapper">MEDIA</a></li>
                    <li><a href="{{ url_for('my_account') }}">myACCOUNT</a></li>
                </ul>
            </div>
            <div class="footer-right">
                <p>ABC@GMAIL.COM</p>
                <p>123-456-7890</p>
                <p>123 HAI BA TRUNG</p>
                <p>DONG DA, HA NOI</p>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="social-icons">
                <a href="#" class="icon-circle"><i class="fab fa-youtube"></i></a>
                <a href="#" class="icon-circle"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="icon-circle"><i class="fab fa-instagram"></i></a>
                <a href="#" class="icon-circle"><i class="fab fa-linkedin-in"></i></a>
            </div>
            <div class="footer-links">
                <a href="{{ url_for('serve_assets', filename='privacy.html') }}">Privacy Policy</a>
                <a href="{{ url_for('serve_assets', filename='privacy.html') }}">Accessibility Statement</a>
            </div>
            <div class="copyright">
                © 2025 by G2 vo dich.
            </div>
        </div>
    </footer>
    
    <script src="{{ url_for('serve_assets', filename='js/inbox_user.js') }}"></script> 
    <script src="{{ url_for('serve_assets', filename='Products/products.js') }}"></script>
    <script src="{{ url_for('serve_assets', filename='js/navbar.js') }}"></script>
</body>
</html>